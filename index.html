<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Assistant Solo Drakerion TCG</title>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@700&family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>

<audio id="bgMusic" loop preload="auto">
    <source src="ambiance.mp3" type="audio/mpeg">
</audio>

<div id="welcomeScreen"></div>

<template id="welcomeTemplate">
    <div class="welcome-content">
        <p style="font-family: 'Cinzel', serif; font-size: 1.4em;">Oy√© combattant(e),</p>
        <p>te voici arriv√©(e) sur le mode Solo Drakerion TCG.</p>
        <h2 style="color: #f0ad4e;">Mise en place avant de commencer</h2>
        <ul style="text-align: left; margin: 15px 0; display: inline-block; color: #ccc;">
            <li style="margin-bottom: 10px;">Prends un deck de ton choix pour l‚Äôaffronter.</li>
            <li style="margin-bottom: 10px;">Scinde-le en 2 parties (Persos/Attachements d‚Äôun c√¥t√© et √âv√©nements de l‚Äôautre).</li>
            <li style="margin-bottom: 10px;">Fais la mise en place habituelle pour les autres cartes (piles Or, piles Prestige, etc.).</li>
        </ul>
        <p style="font-family: 'Roboto', sans-serif; font-style: italic; color: #aaa; border-top: 1px solid #333; padding-top: 15px;">
            Cette application a pour but de simuler les actions adverses afin de pouvoir tester vos deck si vous √™tes seuls et abandonn√©s de tous‚Ä¶ un bisou ?<br>
            elle vous parlera √† la premi√®re personne du singulier, ‚ÄúJe fais X‚Äù et vous tutoiera.
        </p>
        <button class="btn-red" onclick="startGame()" style="font-size: 1.5em; padding: 15px 50px; margin-top: 20px;">COMBATTRE</button>
    </div>
</template>

<div id="victoryScreen">
    <div class="victory-content">
        <h1 style="color: #f0ad4e; font-size: 2.5em; margin-bottom: 20px;">VICTOIRE !</h1>
        <p>Tu t'es cru plus fort que moi ? c'√©tait mal me conna√Ætre... Pr√™t pour la revanche ?</p>
        <button class="btn-red" onclick="resetGame()" style="font-size: 1.2em; padding: 15px 40px;">RECOMMENCER LE COMBAT</button>
    </div>
</div>

<div id="helpModal"></div>

<div class="container">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
        <h1>Drakerion Solo</h1>
        <div style="display: flex; flex-direction: column; gap: 8px; width: 150px;">
            <button class="btn-green" id="musicBtn" onclick="toggleMusic()" style="min-height: 35px; font-size: 0.7em;">üîä MUSIQUE</button>
            <button class="btn-green" onclick="resetGame()" style="min-height: 35px; font-size: 0.7em;">R√âINITIALISER</button>
            <button class="btn-green" onclick="showHelp()" style="min-height: 35px; font-size: 0.7em;">AIDE</button>
        </div>
    </div>
    
    <div class="counter-section">
        <div class="counter">
            <div style="font-size: 0.8em;">ü™ô Or</div>
            <div id="goldValue" class="value">0</div>
            <div class="grid-buttons">
                <button class="btn-gold" onclick="updateGold(-1)">-1</button>
                <button class="btn-gold" onclick="updateGold(1)">+1</button>
                <button class="btn-gold" onclick="updateGold(5)">+5</button>
                <button class="btn-gold" onclick="updateGold(6)">+6</button>
                <button class="btn-gold" onclick="updateGold(7)">+7</button>
                <button class="btn-gold" onclick="updateGold(8)">+8</button>
            </div>
        </div>
        <div id="prestigeSection" class="counter">
            <div style="font-size: 0.8em;">‚ú® Prestige</div>
            <div id="prestigeValue" class="value">0</div>
            <button class="btn-blue" onclick="updatePrestige(1)">+1 PRESTIGE</button>
            <button class="btn-blue" onclick="updatePrestige(-1)">-1 PRESTIGE</button>
            <button class="btn-blue" onclick="applyBonusAction()" style="font-size: 0.7em;">BONUS D'ACTION</button>
        </div>
        <div id="turnSection" class="counter">
            <div style="font-size: 0.8em;">‚è≥ Tour</div>
            <div id="turnValue" class="value">1</div>
            <button class="btn-gold" onclick="nextTurn()">TOUR SUIVANT</button>
            <button class="btn-green" id="boardStateBtn" onclick="toggleBoardState()" style="font-size: 0.7em;">PLUS D'ATTAQUANTS</button>
        </div>
    </div>
    
    <div id="iaControls"> 
        <div id="iaButtonGroup" style="display: flex; gap: 10px; margin-bottom: 15px;">
            <button class="btn-red" id="actionBtn" onclick="performAppAction()" style="flex: 1.5; height: 55px;">ACTION (0)</button>
            <button class="btn-orange" id="declareCombatBtn" onclick="startCombat(false)" style="flex: 1; height: 55px;">D√âCLARER COMBAT</button>
        </div>
        <div id="actionResult" class="action-result"></div>
        <div id="combatModule" style="display:none; margin-top: 10px;">
            <div class="action-result combat-alert" style="flex-direction: column; gap: 10px;">
                <div id="combatResponse">üî• COMBAT ACTIF üî•</div>
                <button class="btn-gold" id="combatBtn" onclick="performCombatAction()">CAPACIT√â DE COMBAT</button>
            </div>
            <button class="btn-blue" id="endCombatBtn" onclick="endCombat()" style="width:100%; margin-top: 5px;" disabled>FIN DE COMBAT</button>
        </div>
    </div>
</div>

<script src="audio.js"></script>
<script src="script.js"></script>

</body>
</html>
